<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>진행 상황 작성</title>
  <link rel="stylesheet" href="http://fonts.googleapis.com/earlyaccess/notosanskr.css">
  <!-- Material Design Lite css & icons -->
  <link rel="stylesheet" href="css/material.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="css/font-awesome.min.css">
  <!-- progressState CSS -->
  <link rel="stylesheet" href="css/progressState.css"/>

  <style>
  .kse_photoBox {
    background: #fff;
    overflow: hidden;
    position: relative;
  }

  .kse_photo {
    background: url("img/icon/mountain35.png") no-repeat center;
  }

  .kse_photoInput {
    background: red;
    cursor: pointer;
    position: absolute;
    bottom: 0;
    left: 0;
  }

  .kse_messageBox {
    color: #fff;
    background: #ff5252;
    margin: 5%;
    border-radius: 0 5px 5px 5px;
    position: relative;
    white-space: pre-line;
    /*overflow: hidden;*/
  }

  .kse_messageBox::before {
    content: "";
    display: block;
    width: 0;
    height: 0;
    border-left: 10px solid transparent;
    border-top: 10px solid #ff5252;
    position: absolute;
    left: -10px;
  }

  .kse_rank {
    width: 50px;
    height: 50px;
    background: #FFCCB9;
    color: #FF5252;
    text-align: center;
    line-height: 30px;
    border-radius: 15px;
  }

  .kse_scroll::-webkit-scrollbar {
    width: 12px;
  }
  .kse_scroll::-webkit-scrollbar-track {
    background-color: #eaeaea;
    border-left: 1px solid #ccc;
  }
  .kse_scroll::-webkit-scrollbar-thumb {
    background-color: #757575;
  }
  .kse_scroll::-webkit-scrollbar-thumb:hover {
    background-color: #424242;
  }

  /* 유저리스트 */
  .kse_user {
    margin-bottom: 2px;"
  }
  .kse_user:last-child {
    margin-bottom: 0;
  }
  .kse_user_profile {
    border-radius: 50%;
    opacity: 0.7;
    transform: origin;
    width: 80%;
    transition: .2s ease;
    cursor: pointer;
  }
  .kse_user_profile:active {
    opacity: 1;
    transform: scale(1.2);
  }

  input[type="checkbox"]:checked+label>img{
    opacity: 1;
  }

  </style>
</head>
<body ng-app="progressStateWriteForm" ng-controller="ProgressStateWriteFormCtrl">
  <!-- Always shows a header, even in smaller screens. -->
  <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">

    <!-- Main Contents -->
    <main class="mdl-layout__content">
      <div class="page-content">
        <!-- Your content goes here -->
        <div class="mdl-grid" style="margin: 5% 10%">

          <div class="mdl-cell mdl-cell--12-col mdl-shadow--2dp"
          style="background: #142830; border-radius: 15px; overflow: hidden;">
          <div class="mdl-grid">
            <span class="mdl-color-text--white mdl-cell--middle mdl-typography--font-bold mdl-cell--11-col mdl-cell--5-col-tablet mdl-cell--3-col-phone"
            style="margin: 2px 0 0 20px; font-size: 17px;">프로젝트 진행 상황 작성</span>
            <span class="mdl-layout-spacer"></span>
            <span class="mdl-cell--1-col mdl-typography--text-right">
              <a href="" class="mdl-color-text--white"> <i class="fa fa-times fa-2x"></i> </a>
            </span>
          </div>

          <div class="mdl-grid mdl-grid--no-spacing mdl-shadow--2dp">
            <div class="mdl-cell mdl-cell--4-col mdl-cell--12-col-tablet mdl-color--grey-400">
              <!-- 진행상황 작성 공간(선택한 유저가 없을 때)-->
              <div class="mdl-cell mdl-cell--12-col kse_bgColorGray mdl-shadow--2dp">
                <div class="mdl-grid mdl-grid--no-spacing">
                  <!-- 메세지 공간 -->
                  <div class="mdl-cell--12-col mdl-typography--text-center mdl-color--cyan-800">
                    <p class="mdl-cell mdl-cell--12-col mdl-color-text--white mdl-typography--font-bold">
                      내용을 받을 참여 회원의 프로필 사진을 클릭하세요!
                    </p>
                  </div>

                  <div class="mdl-grid mdl-grid--no-spacing mdl-cell--12-col">
                    <div class="mdl-cell--6-col mdl-cell--12-col-tablet mdl-typography--text-center">
                      <div class="mdl-color--grey-300 kse_borderRight">
                        <span class="mdl-cell mdl-cell--12-col mdl-color-text--grey-600 mdl-typography--font-bold">
                          총 참여회원수
                        </span>
                      </div>
                      <div class="mdl-color--white kse_borderRight">
                        <span class="mdl-cell mdl-cell--12-col mdl-typography--font-bold">
                          6
                        </span>
                      </div>
                    </div>
                    <div class="mdl-cell--6-col mdl-cell--12-col-tablet mdl-typography--text-center">
                      <div class="mdl-color--grey-300 ">
                        <span class="mdl-cell mdl-cell--12-col mdl-color-text--grey-600 mdl-typography--font-bold">
                          선택한 회원수
                        </span>
                      </div>
                      <div class="mdl-color--white">
                        <span class="mdl-cell mdl-cell--12-col mdl-color-text--red-A100 mdl-typography--font-bold">
                          1
                        </span>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- 진행상황 작성 공간(선택한 유저가 있을 때) -->
              <ul class="kse_scroll mdl-cell mdl-cell--12-col mdl-shadow--2dp mdl-color--grey-400"
              style="padding: 0;height:535px;overflow-y:scroll">
              <li class="mdl-grid mdl-grid--no-spacing mdl-color--white kse_user" style="padding: 10px">
                <div class="mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-typography--text-center">
                  <input type="checkbox" ng-model="checkValues.user1" id="user1" style="display:none">
                  <label for="user1">
                    <img src="img/profile/1.jpg" alt="" class="kse_user_profile">
                  </label>
                  <div class="mdl-typography--text-center mdl-typography--font-bold">메롱</div>
                </div>
                <div class="mdl-cell--9-col mdl-typography--text-right">
                  <p class="kse_messageBox mdl-shadow--2dp mdl-typography--text-center">귀여운 장식품을
                    달아주세요~!!</p>

                    <div>
                      <span class="mdl-typography--font-bold mdl-color-text--blue-A400">시작</span>
                      <span>2015-12-07</span>
                    </div>
                    <div>
                      <span class="mdl-typography--font-bold mdl-color-text--red-A400">종료</span>
                      <span>2015-12-12</span>
                    </div>
                    <p>
                      <strong>1 순위</strong>
                    </p>
                  </div>
                </li>
                <li class="mdl-grid mdl-grid--no-spacing mdl-color--white kse_user" style="padding: 10px">
                  <div class="mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-typography--text-center">
                    <input type="checkbox" ng-model="checkValues.user2" id="user2" style="display:none">
                    <label for="user2">
                      <img src="img/profile/2.jpg" alt="" class="kse_user_profile">
                    </label>
                    <div class="mdl-typography--text-center mdl-typography--font-bold">메롱</div>
                  </div>
                  <div class="mdl-cell--9-col mdl-typography--text-right">
                    <p class="kse_messageBox mdl-shadow--2dp mdl-typography--text-center">귀여운 장식품을
                      달아주세요~!!</p>

                      <div>
                        <span class="mdl-typography--font-bold mdl-color-text--blue-A400">시작</span>
                        <span>2015-12-07</span>
                      </div>
                      <div>
                        <span class="mdl-typography--font-bold mdl-color-text--red-A400">종료</span>
                        <span>2015-12-12</span>
                      </div>
                      <p>
                        <strong>1 순위</strong>
                      </p>
                    </div>
                  </li>
                  <li class="mdl-grid mdl-grid--no-spacing mdl-color--white kse_user" style="padding: 10px">
                    <div class="mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-typography--text-center">
                      <input type="checkbox" ng-model="checkValues.user3" id="user3" style="display:none">
                      <label for="user3">
                        <img src="img/profile/3.PNG" alt="" class="kse_user_profile">
                      </label>
                      <div class="mdl-typography--text-center mdl-typography--font-bold">메롱</div>
                    </div>
                    <div class="mdl-cell--9-col mdl-typography--text-right">
                      <p class="kse_messageBox mdl-shadow--2dp mdl-typography--text-center">귀여운 장식품을
                        달아주세요~!!</p>

                        <div>
                          <span class="mdl-typography--font-bold mdl-color-text--blue-A400">시작</span>
                          <span>2015-12-07</span>
                        </div>
                        <div>
                          <span class="mdl-typography--font-bold mdl-color-text--red-A400">종료</span>
                          <span>2015-12-12</span>
                        </div>
                        <p>
                          <strong>1 순위</strong>
                        </p>
                      </div>
                    </li>
                    <li class="mdl-grid mdl-grid--no-spacing mdl-color--white kse_user" style="padding: 10px">
                      <div class="mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-typography--text-center">
                        <input type="checkbox" ng-model="checkValues.user4" id="user4" style="display:none">
                        <label for="user4">
                          <img src="img/profile/4.jpg" alt="" class="kse_user_profile">
                        </label>
                        <div class="mdl-typography--text-center mdl-typography--font-bold">메롱</div>
                      </div>
                      <div class="mdl-cell--9-col mdl-typography--text-right">
                        <p class="kse_messageBox mdl-shadow--2dp mdl-typography--text-center">귀여운 장식품을
                          달아주세요~!!</p>

                          <div>
                            <span class="mdl-typography--font-bold mdl-color-text--blue-A400">시작</span>
                            <span>2015-12-07</span>
                          </div>
                          <div>
                            <span class="mdl-typography--font-bold mdl-color-text--red-A400">종료</span>
                            <span>2015-12-12</span>
                          </div>
                          <p>
                            <strong>1 순위</strong>
                          </p>
                        </div>
                      </li>
                    </ul>
                  </div><!--유저 요구사항 정보 박스끝-->
                  <div class="mdl-cell--8-col mdl-color--grey-400">
                    <div class="mdl-cell mdl-cell--12-col kse_bgColorGray mdl-shadow--2dp">
                      <div class="mdl-grid mdl-color--cyan-800 kse_borderBottom">
                        <span class="mdl-color-text--white mdl-typography--font-bold" style="font-size: 15px;">사진 등록</span>
                      </div>
                      <div class="mdl-grid mdl-color-text--grey-700 mdl-typography--font-bold">
                        최대 4장까지 등록 가능
                      </div>
                      <div class="mdl-grid mdl-cell--12-col">


                        <!--수정중...-->
                        <div class="mdl-card mdl-cell mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-shadow--2dp">
                          <div class="mdl-card--expand" style="background: url({{uploadImage1}}) no-repeat center; background-size: contain">
                          </div>
                          <div class="mdl-card__actions mdl-card--border mdl-typography--text-center">
                            <label for="photoOne"
                            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">파일
                            선택</label>
                            <input type="file" id="photoOne" name="photo" accept="image/*"
                            style="display: none" onchange="angular.element(this).scope().setUploadImage1(this)">
                          </div>
                        </div>

                        <div class="mdl-card mdl-cell mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-shadow--2dp">
                          <div class="mdl-card--expand" style="background: url({{uploadImage2}}) no-repeat center; background-size: contain">
                          </div>
                          <div class="mdl-card__actions mdl-card--border mdl-typography--text-center">
                            <label for="photoTwo"
                            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">파일
                            선택</label>
                            <input type="file" id="photoTwo" name="photo" accept="image/*"
                            style="display: none" onchange="angular.element(this).scope().setUploadImage2(this)">
                          </div>
                        </div>

                        <div class="mdl-card mdl-cell mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-shadow--2dp">
                          <div class="mdl-card--expand" style="background: url({{uploadImage3}}) no-repeat center; background-size: contain">
                          </div>
                          <div class="mdl-card__actions mdl-card--border mdl-typography--text-center">
                            <label for="photoThree"
                            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">파일
                            선택</label>
                            <input type="file" id="photoThree" name="photo" accept="image/*"
                            style="display: none" onchange="angular.element(this).scope().setUploadImage3(this)">
                          </div>
                        </div>

                        <div class="mdl-card mdl-cell mdl-cell--3-col mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-shadow--2dp">
                          <div class="mdl-card--expand" style="background: url({{uploadImage4}}) no-repeat center; background-size: contain">
                          </div>
                          <div class="mdl-card__actions mdl-card--border mdl-typography--text-center">
                            <label for="photoFour"
                            class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">파일
                            선택</label>
                            <input type="file" id="photoFour" name="photo" accept="image/*"
                            style="display: none" onchange="angular.element(this).scope().setUploadImage4(this)">
                          </div>
                        </div>

                      </div>
                    </div>
                    <div class="mdl-cell mdl-cell--12-col kse_bgColorGray mdl-shadow--2dp">
                      <div class="mdl-grid mdl-color--cyan-800 kse_borderBottom">
                        <span class="mdl-color-text--white mdl-typography--font-bold" style="font-size: 15px">진행 상황 설명</span>
                      </div>
                      <div class="mdl-grid mdl-cell--12-col mdl-grid--no-spacing">
                        <div class="mdl-cell mdl-cell--12-col mdl-textfield mdl-js-textfield">
                          <label class="mdl-textfield__label" for="explanation">진행 상황 전달 메세지를
                            입력하세요.</label>
                            <textarea class="mdl-textfield__input mdl-color--white" type="text"
                            id="explanation" rows="10"></textarea>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                  <div class="mdl-grid mdl-color--grey-400">
                    <div class="mdl-cell mdl-cell--12-col mdl-typography--text-center">
                      <button class="mdl-button mdl-button--raised mdl-button--primary mdl-js-button mdl-js-ripple-effect"
                      style="margin:0 10px;font-size: 15px;" ng-click="sendMessage(checkValues)">
                      진행상황 보내기
                    </button>
                    <button class="mdl-button mdl-button--raised mdl-button--primary mdl-js-button mdl-js-ripple-effect"
                    style="margin:0 10px;font-size: 15px;">
                    취소
                  </button>
                </div>
              </div>
              <!-- dummy box -->
              <div class="mdl-grid mdl-cell--12-col" style="background: #142830; height:8px"></div>
            </div>

          </div><!--//content grid end -->
        </div>
      </main>

    </div>
    <!-- javascript -->
    <!-- Material Design Lite javascript -->
    <script src="js/material.min.js"></script>
    <script src="js/angular.min.js"></script>
    <script>
      var app = angular.module('progressStateWriteForm',[]);
      app.controller('ProgressStateWriteFormCtrl',['$scope', function($scope){
        <!-- $scope.user1 = false; -->
        $scope.checkValues = {
          user1 : false,
          user2 : false,
          user3 : false,
          user4 : false
        };

        $scope.uploadImage1 = 'img/icon/defaultImg.jpg';
        $scope.uploadImage2 = 'img/icon/defaultImg.jpg';
        $scope.uploadImage3 = 'img/icon/defaultImg.jpg';
        $scope.uploadImage4 = 'img/icon/defaultImg.jpg';

        $scope.setUploadImage1 = function (element) {
          var reader = new FileReader();
          reader.onload = $scope.imageIsLoaded;
          reader.readAsDataURL(element.files[0]);
        };
        $scope.imageIsLoaded = function(e){
          $scope.$apply(function(){
            $scope.uploadImage1 = e.target.result;
          })
        }

        $scope.setUploadImage2 = function (element) {
          var reader = new FileReader();
          reader.onload = $scope.imageIsLoaded2;
          reader.readAsDataURL(element.files[0]);
        };
        $scope.imageIsLoaded2 = function(e){
          $scope.$apply(function(){
            $scope.uploadImage2 = e.target.result;
          })
        }

        $scope.setUploadImage3 = function (element) {
          var reader = new FileReader();
          reader.onload = $scope.imageIsLoaded3;
          reader.readAsDataURL(element.files[0]);
        };
        $scope.imageIsLoaded3 = function(e){
          $scope.$apply(function(){
            $scope.uploadImage3 = e.target.result;
          })
        }

        $scope.setUploadImage4 = function (element) {
          var reader = new FileReader();
          reader.onload = $scope.imageIsLoaded4;
          reader.readAsDataURL(element.files[0]);
        };
        $scope.imageIsLoaded4 = function(e){
          $scope.$apply(function(){
            $scope.uploadImage4 = e.target.result;
          })
        }

        $scope.sendMessage = function(checkValues){
          console.log(checkValues);
        }
      }]);
    </script>
  </body>
  </html>
